import{j as s,L as j,B as v}from"./index-V1xy71a3.js";import{r as a}from"./vendor-p8QlL_uR.js";import{s as y}from"./supabase-DmH2_TPP.js";import{C as x}from"./Card-BJjrw05i.js";import"./utils-BTGVH9Kg.js";const N=[{value:"",label:"All Formats"},{value:"online",label:"Online"},{value:"in_person",label:"In Person"},{value:"hybrid",label:"Hybrid"},{value:"self_paced",label:"Self-Paced"}],w=[{value:"",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"},{value:"expert",label:"Expert"}],P=()=>{const[c,o]=a.useState([]),[m,d]=a.useState(!0),[r,u]=a.useState(""),[n,h]=a.useState(""),[i,g]=a.useState(!1);a.useEffect(()=>{b()},[r,n,i]);const b=async()=>{d(!0);try{let e=y.from("training_programs").select("*").eq("active",!0).order("rating",{ascending:!1});r&&(e=e.eq("format",r)),n&&(e=e.eq("level",n)),i&&(e=e.eq("cost",0));const{data:l,error:t}=await e;if(t){console.error("Error fetching programs:",t);return}o(l||[])}catch(e){console.error("Failed to fetch programs:",e)}finally{d(!1)}},f=e=>e===0?"Free":`$${e.toLocaleString()}`,p=e=>{const l=[];for(let t=1;t<=5;t++)l.push(s.jsx("svg",{className:`w-4 h-4 ${t<=e?"text-yellow-400":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t));return s.jsx("div",{className:"flex",children:l})};return s.jsx("div",{className:"min-h-screen bg-dark-bg py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Training Programs"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Explore 850+ training programs to advance your STEM career."})]}),s.jsx("div",{className:"bg-dark-surface border border-dark-border rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsx("select",{value:r,onChange:e=>u(e.target.value),className:"bg-dark-bg border border-dark-border rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:N.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),s.jsx("select",{value:n,onChange:e=>h(e.target.value),className:"bg-dark-bg border border-dark-border rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),s.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:e=>g(e.target.checked),className:"w-4 h-4 rounded border-dark-border bg-dark-bg text-blue-500 focus:ring-blue-500"}),"Free Programs Only"]})]})}),m?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(j,{size:"lg"})}):c.length===0?s.jsx(x,{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-lg",children:"No training programs found."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>s.jsxs(x,{className:"flex flex-col",children:[e.featured&&s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white text-xs font-bold px-3 py-1 rounded-t-lg -mt-4 -mx-4 mb-4 text-center",children:"FEATURED PROGRAM"}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${e.level==="beginner"?"bg-green-500/20 text-green-400":e.level==="intermediate"?"bg-yellow-500/20 text-yellow-400":e.level==="advanced"?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:e.level}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${e.cost===0?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:f(e.cost)})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:e.title}),s.jsx("p",{className:"text-blue-400 text-sm mb-2",children:e.provider}),s.jsx("p",{className:"text-gray-300 mb-4 flex-1 line-clamp-3",children:e.description}),s.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Duration:"}),s.jsx("span",{className:"text-white",children:e.duration})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Format:"}),s.jsx("span",{className:"text-white capitalize",children:e.format.replace("_"," ")})]}),e.placement_rate&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Placement Rate:"}),s.jsxs("span",{className:"text-green-400",children:[e.placement_rate,"%"]})]}),e.certification_type&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Certificate:"}),s.jsx("span",{className:"text-white text-xs",children:e.certification_type})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p(e.rating),s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",e.reviews_count.toLocaleString()," reviews)"]})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.skills.slice(0,3).map((l,t)=>s.jsx("span",{className:"px-2 py-1 bg-dark-bg text-gray-400 rounded text-xs",children:l},t)),e.skills.length>3&&s.jsxs("span",{className:"px-2 py-1 text-gray-500 text-xs",children:["+",e.skills.length-3," more"]})]}),s.jsx(v,{fullWidth:!0,className:"mt-auto",children:"Enroll Now"})]},e.id))})]})})};export{P as default};
